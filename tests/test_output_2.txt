============================= test session starts =============================
platform win32 -- Python 3.12.10, pytest-7.4.4, pluggy-1.6.0 -- C:\Users\patriciods\AppData\Local\Programs\Python\Python312\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\patriciods\RAG\chat-analytics-poc\backend
configfile: pyproject.toml
plugins: anyio-4.12.0, asyncio-0.23.3, cov-4.1.0
asyncio: mode=Mode.AUTO
collecting ... collected 43 items

test_auth.py::test_register_user PASSED                                  [  2%]
test_auth.py::test_register_duplicate_email PASSED                       [  4%]
test_auth.py::test_login_success PASSED                                  [  6%]
test_auth.py::test_login_wrong_password PASSED                           [  9%]
test_auth.py::test_get_me PASSED                                         [ 11%]
test_auth.py::test_get_me_unauthorized PASSED                            [ 13%]
test_chat.py::test_send_message_new_conversation FAILED                  [ 16%]
test_chat.py::test_send_message_existing_conversation FAILED             [ 18%]
test_chat.py::test_send_message_unauthorized PASSED                      [ 20%]
test_chat.py::test_list_conversations_empty PASSED                       [ 23%]
test_chat.py::test_list_conversations_with_data FAILED                   [ 25%]
test_chat.py::test_get_conversation PASSED                               [ 27%]
test_chat.py::test_get_conversation_not_found PASSED                     [ 30%]
test_chat.py::test_create_conversation PASSED                            [ 32%]
test_data.py::test_list_services_empty PASSED                            [ 34%]
test_data.py::test_list_services PASSED                                  [ 37%]
test_data.py::test_create_service_as_analyst PASSED                      [ 39%]
test_data.py::test_create_service_as_viewer_forbidden PASSED             [ 41%]
test_data.py::test_get_service PASSED                                    [ 44%]
test_data.py::test_get_service_not_found PASSED                          [ 46%]
test_data.py::test_create_cost PASSED                                    [ 48%]
test_data.py::test_create_expense PASSED                                 [ 51%]
test_data.py::test_list_service_costs PASSED                             [ 53%]
test_data.py::test_list_service_expenses PASSED                          [ 55%]
test_data.py::test_get_cost_vs_expense_analysis PASSED                   [ 58%]
test_reports.py::test_list_reports_empty PASSED                          [ 60%]
test_reports.py::test_list_reports_with_data PASSED                      [ 62%]
test_reports.py::test_get_report PASSED                                  [ 65%]
test_reports.py::test_get_report_not_found PASSED                        [ 67%]
test_reports.py::test_download_report_not_ready PASSED                   [ 69%]
test_reports.py::test_reports_unauthorized PASSED                        [ 72%]
test_reports.py::test_generate_report_viewer_forbidden PASSED            [ 74%]
test_services.py::TestJwtHandler::test_create_access_token PASSED        [ 76%]
test_services.py::TestJwtHandler::test_decode_access_token PASSED        [ 79%]
test_services.py::TestJwtHandler::test_decode_invalid_token PASSED       [ 81%]
test_services.py::TestJwtHandler::test_token_with_expiry PASSED          [ 83%]
test_services.py::TestPasswordHashing::test_hash_password PASSED         [ 86%]
test_services.py::TestPasswordHashing::test_verify_password_correct PASSED [ 88%]
test_services.py::TestPasswordHashing::test_verify_password_incorrect PASSED [ 90%]
test_services.py::TestEnums::test_user_role_values PASSED                [ 93%]
test_services.py::TestEnums::test_message_role_values PASSED             [ 95%]
test_services.py::TestEnums::test_report_type_values PASSED              [ 97%]
test_services.py::TestEnums::test_report_status_values PASSED            [100%]

================================== FAILURES ===================================
_____________________ test_send_message_new_conversation ______________________

client = <httpx.AsyncClient object at 0x0000020AC8C2BCE0>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6ImFuYWx5c3QiLCJleHAiOjE3NjgyNzIzNjZ9.7F2cciQCsCD3N9g1l5qQdAtKW1zUHs9Iqxjtrgl6w4Y'}

    @pytest.mark.asyncio
    async def test_send_message_new_conversation(client: AsyncClient, auth_headers):
        """Test sending a message creates new conversation."""
        response = await client.post(
            "/chat/message",
            headers=auth_headers,
            json={"message": "Hello, this is a test message"},
        )
    
>       assert response.status_code == 200
E       assert 500 == 200
E        +  where 500 = <Response [500 Internal Server Error]>.status_code

test_chat.py:18: AssertionError
___________________ test_send_message_existing_conversation ___________________

client = <httpx.AsyncClient object at 0x0000020AC8C28080>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6ImFuYWx5c3QiLCJleHAiOjE3NjgyNzIzNzB9.qAFz7QB0FMl3UIzIhalzmqGoA6YJVNBE5HG-X8sHRZo'}
test_session = <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000020AC8C2B950>
test_user = <app.db.models.User object at 0x0000020AC8C2A900>

    @pytest.mark.asyncio
    async def test_send_message_existing_conversation(
        client: AsyncClient, auth_headers, test_session: AsyncSession, test_user
    ):
        """Test sending a message to existing conversation."""
        # Create a conversation first
        conv = Conversation(user_id=test_user.id, title="Test Conv")
        test_session.add(conv)
        await test_session.commit()
        await test_session.refresh(conv)
    
        response = await client.post(
            "/chat/message",
            headers=auth_headers,
            json={"message": "Follow-up message", "conversation_id": conv.id},
        )
    
>       assert response.status_code == 200
E       assert 500 == 200
E        +  where 500 = <Response [500 Internal Server Error]>.status_code

test_chat.py:43: AssertionError
______________________ test_list_conversations_with_data ______________________

client = <httpx.AsyncClient object at 0x0000020AC8D35F70>
auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6ImFuYWx5c3QiLCJleHAiOjE3NjgyNzIzNzR9.Mt4IBNBD1vpkgCYBCTJirI-ZXGACIQ1Nj7pkLtgda90'}
test_session = <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x0000020AC8D373B0>
test_user = <app.db.models.User object at 0x0000020AC8C5CD40>

    @pytest.mark.asyncio
    async def test_list_conversations_with_data(
        client: AsyncClient, auth_headers, test_session: AsyncSession, test_user
    ):
        """Test listing conversations with data."""
        # Create conversations
        for i in range(3):
            conv = Conversation(user_id=test_user.id, title=f"Conv {i}")
            test_session.add(conv)
        await test_session.commit()
    
>       response = await client.get("/chat/conversations", headers=auth_headers)

test_chat.py:81: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py:1786: in get
    return await self.request(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py:1559: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py:1646: in send
    response = await self._send_handling_auth(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py:1674: in _send_handling_auth
    response = await self._send_handling_redirects(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py:1711: in _send_handling_redirects
    response = await self._send_single_request(request)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py:1748: in _send_single_request
    response = await transport.handle_async_request(request)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_transports\asgi.py:162: in handle_async_request
    await self.app(scope, receive, send)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\errors.py:186: in __call__
    raise exc
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\errors.py:164: in __call__
    await self.app(scope, receive, _send)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\cors.py:83: in __call__
    await self.app(scope, receive, send)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py:64: in wrapped_app
    raise exc
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py:762: in __call__
    await self.middleware_stack(scope, receive, send)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py:782: in app
    await route.handle(scope, receive, send)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py:297: in handle
    await self.app(scope, receive, send)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py:77: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py:64: in wrapped_app
    raise exc
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py:72: in app
    response = await func(request)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py:299: in app
    raise e
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py:294: in app
    raw_response = await run_endpoint_function(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py:191: in run_endpoint_function
    return await dependant.call(**values)
..\app\chat\router.py:74: in list_conversations
    message_count=len(conv.messages) if conv.messages else 0,
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\attributes.py:566: in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\attributes.py:1086: in get
    value = self._fire_loader_callables(state, key, passive)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\attributes.py:1121: in _fire_loader_callables
    return self.callable_(state, passive)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\strategies.py:967: in _load_for_state
    return self._emit_lazyload(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\strategies.py:1130: in _emit_lazyload
    result = session.execute(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\session.py:2308: in execute
    return self._execute_internal(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\session.py:2190: in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\context.py:293: in orm_execute_statement
    result = conn.execute(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:1416: in execute
    return meth(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\sql\elements.py:517: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:1639: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:1848: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:1988: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:2347: in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:1969: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:922: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:146: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:298: in _handle_exception
    raise error
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:123: in execute
    _cursor = self.await_(self._connection.cursor())
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

awaitable = <aiosqlite.context.Result object at 0x0000020AC8B7E050>

    def await_only(awaitable: Awaitable[_T]) -> _T:
        """Awaits an async function in a sync method.
    
        The sync method must be inside a :func:`greenlet_spawn` context.
        :func:`await_only` calls cannot be nested.
    
        :param awaitable: The coroutine to call.
    
        """
        # this is called in the context greenlet while running fn
        current = getcurrent()
        if not isinstance(current, _AsyncIoGreenlet):
            _safe_cancel_awaitable(awaitable)
    
>           raise exc.MissingGreenlet(
                "greenlet_spawn has not been called; can't call await_only() "
                "here. Was IO attempted in an unexpected place?"
            )
E           sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:121: MissingGreenlet
============================== warnings summary ===============================
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271
  C:\Users\patriciods\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:19
  C:\Users\patriciods\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:19: DeprecationWarning: 'setName' deprecated - use 'set_name'
    token = pp.Word(tchar).setName("token")

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:20
  C:\Users\patriciods\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:20: DeprecationWarning: 'leaveWhitespace' deprecated - use 'leave_whitespace'
    token68 = pp.Combine(pp.Word("-._~+/" + pp.nums + pp.alphas) + pp.Optional(pp.Word("=").leaveWhitespace())).setName(

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:20
  C:\Users\patriciods\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:20: DeprecationWarning: 'setName' deprecated - use 'set_name'
    token68 = pp.Combine(pp.Word("-._~+/" + pp.nums + pp.alphas) + pp.Optional(pp.Word("=").leaveWhitespace())).setName(

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:24
  C:\Users\patriciods\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:24: DeprecationWarning: 'setName' deprecated - use 'set_name'
    quoted_string = pp.dblQuotedString.copy().setName("quoted-string").setParseAction(unquote)

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:24
  C:\Users\patriciods\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:24: DeprecationWarning: 'setParseAction' deprecated - use 'set_parse_action'
    quoted_string = pp.dblQuotedString.copy().setName("quoted-string").setParseAction(unquote)

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:25
  C:\Users\patriciods\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:25: DeprecationWarning: 'setName' deprecated - use 'set_name'
    auth_param_name = token.copy().setName("auth-param-name").addParseAction(downcaseTokens)

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:25
  C:\Users\patriciods\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:25: DeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'
    auth_param_name = token.copy().setName("auth-param-name").addParseAction(downcaseTokens)

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:27
  C:\Users\patriciods\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:27: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'
    params = pp.Dict(pp.delimitedList(pp.Group(auth_param)))

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:33
  C:\Users\patriciods\AppData\Local\Programs\Python\Python312\Lib\site-packages\httplib2\auth.py:33: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'
    www_authenticate = pp.delimitedList(pp.Group(challenge))

..\app\chat\llm\gemini_client.py:4
  C:\Users\patriciods\RAG\chat-analytics-poc\backend\app\chat\llm\gemini_client.py:4: FutureWarning: 
  
  All support for the `google.generativeai` package has ended. It will no longer be receiving 
  updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
  See README for more details:
  
  https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
  
    import google.generativeai as genai

tests/test_auth.py: 5 warnings
tests/test_chat.py: 24 warnings
tests/test_data.py: 29 warnings
tests/test_reports.py: 18 warnings
  C:\Users\patriciods\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\sql\schema.py:3593: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore

tests/test_auth.py: 3 warnings
tests/test_chat.py: 7 warnings
tests/test_data.py: 11 warnings
tests/test_reports.py: 6 warnings
tests/test_services.py: 2 warnings
  C:\Users\patriciods\RAG\chat-analytics-poc\backend\app\auth\jwt_handler.py:20: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    expire = datetime.utcnow() + timedelta(minutes=settings.jwt_expire_minutes)

tests/test_auth.py: 1 warning
tests/test_chat.py: 7 warnings
tests/test_data.py: 11 warnings
tests/test_reports.py: 6 warnings
tests/test_services.py: 2 warnings
  C:\Users\patriciods\AppData\Local\Programs\Python\Python312\Lib\site-packages\jose\jwt.py:311: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    now = timegm(datetime.utcnow().utctimetuple())

tests/test_services.py::TestJwtHandler::test_token_with_expiry
  C:\Users\patriciods\RAG\chat-analytics-poc\backend\app\auth\jwt_handler.py:18: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    expire = datetime.utcnow() + expires_delta

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED test_chat.py::test_send_message_new_conversation - assert 500 == 200
FAILED test_chat.py::test_send_message_existing_conversation - assert 500 == 200
FAILED test_chat.py::test_list_conversations_with_data - sqlalchemy.exc.Missi...
================= 3 failed, 40 passed, 150 warnings in 19.13s =================
